---
import type { MarkdownLayoutProps } from "astro";
import PostHead from "components/Head/PostHead.astro";
import Page from "./Page.astro";

export type Props = MarkdownLayoutProps<Frontmatter>;

const { frontmatter } = Astro.props;
const { title, publishedAt, readingTime } = frontmatter;
const publishedTime = new Date(publishedAt).toISOString();
---

<Page>
  <PostHead slot="head" {...frontmatter} />
  <main class="max-w-5xl min-h-screen px-8 py-20 mx-auto">
    <p
      class="px-3 border-l-2 border-slate-500 text-slate-600 dark:text-slate-400"
    >
      <time datetime={publishedTime}>{publishedAt}</time>, {readingTime}
    </p>
    <article
      class="max-w-none py-8 prose prose-slate dark:prose-invert prose-headings:text-slate-800 dark:prose-headings:text-slate-200 prose-headings:scroll-mt-20 prose-p:text-slate-800 dark:prose-p:text-slate-200 prose-a:text-slate-800 dark:prose-a:text-slate-200 hover:prose-a:text-sky-800 dark:hover:prose-a:text-sky-200 prose-a:underline-offset-4 [&_sup_a]:no-underline prose-strong:text-sky-800 dark:prose-strong:text-sky-200 prose-img:mx-auto prose-code:text-slate-800 dark:prose-code:text-slate-200 prose-ol:text-slate-800 dark:prose-ol:text-slate-200 prose-ul:text-slate-800 dark:prose-ul:text-slate-200"
    >
      <h1>{title}</h1>
      <slot />
    </article>
  </main>
</Page>
